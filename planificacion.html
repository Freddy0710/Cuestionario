<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Proceso de Planificación</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="puntaje">Puntuación: <span id="puntuacion">0</span></div>
  <div id="animacion" class="animacion">¡Prepárate!</div>
  <div id="juego" class="juego">
    <div id="pregunta" class="pregunta"></div>
    <div id="opciones" class="opciones"></div>
  </div>
  <div id="resultado" class="resultado"></div>
  <script>
    const preguntas = [
      {
        pregunta: "¿Cómo planifica el Estado?",
        opciones: [
          "Mediante el Plan de Desarrollo Económico y Social.",
          "Organizando mesas de trabajo y enviando propuestas al Ministerio.",
          "Ambas son correctas."
        ],
        respuesta_correcta: "Ambas son correctas."
      },
      {
        pregunta: "¿Qué herramientas de la Ley 1178 utiliza?",
        opciones: [
          "SPO, SOA, SICOE.",
          "TDR, ET.",
          "Todas las anteriores."
        ],
        respuesta_correcta: "Todas las anteriores."
      },
      {
        pregunta: "¿El POA es flexible o estático?",
        opciones: [
          "Flexible, puede adaptarse a cambios.",
          "Estático, no puede modificarse.",
          "Depende de la organización."
        ],
        respuesta_correcta: "Flexible, puede adaptarse a cambios."
      },
      {
        pregunta: "¿Cuáles son los subsistemas del SPO?",
        opciones: [
          "SEPOA, SSEEPOA.",
          "SICOE, TDR.",
          "Ninguna de las anteriores."
        ],
        respuesta_correcta: "SEPOA, SSEEPOA."
      },
      {
        pregunta: "¿Qué es la planificación tradicional?",
        opciones: [
          "Un modelo rígido y secuencial.",
          "Un modelo flexible y adaptativo.",
          "No existe."
        ],
        respuesta_correcta: "Un modelo rígido y secuencial."
      }
      // Añade más preguntas aquí
    ];

    let preguntaActual = 0;
    let puntuacion = 0;
    let tiempo = 5;
    let temporizador;

    function iniciarJuego() {
      document.getElementById("animacion").style.display = "none";
      document.getElementById("juego").style.display = "block";
      mostrarPregunta();
    }

    function mostrarPregunta() {
      const pregunta = preguntas[preguntaActual];
      document.getElementById("pregunta").textContent = pregunta.pregunta;
      const opcionesHtml = pregunta.opciones.map(opcion => 
        `<div class="opcion" onclick="verificarRespuesta('${opcion}')">${opcion}</div>`
      ).join("");
      document.getElementById("opciones").innerHTML = opcionesHtml;
      iniciarTemporizador();
    }

    function iniciarTemporizador() {
      tiempo = 5;
      temporizador = setInterval(() => {
        tiempo--;
        if (tiempo <= 0) {
          clearInterval(temporizador);
          verificarRespuesta(null);
        }
      }, 1000);
    }

    function verificarRespuesta(opcion) {
      clearInterval(temporizador);
      const pregunta = preguntas[preguntaActual];
      if (opcion === pregunta.respuesta_correcta) {
        puntuacion++;
        document.getElementById("resultado").textContent = "¡Correcto!";
      } else {
        document.getElementById("resultado").textContent = "Incorrecto :(";
      }
      preguntaActual++;
      if (preguntaActual < preguntas.length) {
        setTimeout(mostrarPregunta, 2000);
      } else {
        mostrarResultadoFinal();
      }
      actualizarPuntuacion();
    }

    function actualizarPuntuacion() {
      document.getElementById("puntuacion").textContent = puntuacion;
    }

    function mostrarResultadoFinal() {
      const porcentaje = (puntuacion / preguntas.length) * 100;
      let mensaje = `Puntuación final: ${puntuacion}/${preguntas.length} (${porcentaje}%)`;
      if (porcentaje < 50) {
        mensaje += " - Sigue estudiando, muchach@.";
      } else {
        mensaje += " - ¡Buen trabajo!";
      }
      document.getElementById("resultado").textContent = mensaje;
    }

    // Iniciar animación y luego el juego
    setTimeout(iniciarJuego, 2000);
  </script>
</body>
</html>
